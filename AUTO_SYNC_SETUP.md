# –†—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Gmail —Å AI

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤—Ä—É—á–Ω—É—é –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ—á—Ç—É Gmail —Å –ø–æ–º–æ—â—å—é –ò–ò –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ–∏–¥–±–µ–∫–∞.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "ü§ñ AI –ê–Ω–∞–ª–∏–∑" –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
2. **–£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏**: –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –ø–∏—Å—å–º–∞:
   - –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ: –ø–∏—Å—å–º–∞ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
   - –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—É—Å–∫–∞—Ö: –ø–∏—Å—å–º–∞ —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
3. **–î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**:
   - –ü—Ä–µ–¥—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è: –æ—Ç—Å–µ–∏–≤–∞–µ—Ç –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –ø–∏—Å—å–º–∞ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - –ò–ò –∞–Ω–∞–ª–∏–∑: –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π —Ñ–∏–¥–±–µ–∫ —Å –≤—ã—Å–æ–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é
4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: –í –±–∞–∑—É –ø–æ–ø–∞–¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç–æ—è—â–∏–π —Ñ–∏–¥–±–µ–∫
5. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏**: –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. Environment Variables

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env.local`:

```bash
# –ù–µ –Ω—É–∂–µ–Ω - cron –æ—Ç–∫–ª—é—á–µ–Ω

# Gmail –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
GMAIL_INTEGRATION_CLIENT_ID=your-gmail-client-id
GMAIL_INTEGRATION_CLIENT_SECRET=your-gmail-client-secret
GMAIL_INTEGRATION_REDIRECT_URI=https://your-domain.com/api/auth/gmail/callback

# OpenAI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∏–¥–±–µ–∫–∞
OPENAI_API_KEY=your-openai-api-key
```

### 2. Vercel Deployment

–ü—Ä–∏ –¥–µ–ø–ª–æ–µ –Ω–∞ Vercel —Ñ–∞–π–ª `vercel.json` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç cron –∑–∞–¥–∞—á—É.

### 3. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –∑–∞–ø—É—Å–∫–∞

#### GitHub Actions (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Vercel Cron)

–°–æ–∑–¥–∞–π—Ç–µ `.github/workflows/gmail-sync.yml`:

```yaml
name: Gmail Auto Sync
on:
  schedule:
    - cron: '*/15 * * * *'  # –ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
  workflow_dispatch:  # –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Gmail Sync
        run: |
          curl -X POST https://your-domain.com/api/cron/gmail-sync \
            -H "Authorization: Bearer ${{ secrets.CRON_SECRET }}"
```

#### –í–Ω–µ—à–Ω–∏–π cron —Å–µ—Ä–≤–∏—Å

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ª—é–±–æ–π cron —Å–µ—Ä–≤–∏—Å –¥–ª—è –≤—ã–∑–æ–≤–∞:
```bash
curl -X POST https://your-domain.com/api/cron/gmail-sync \
  -H "Authorization: Bearer YOUR_CRON_SECRET"
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –¢–µ—Å—Ç –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl -X POST http://localhost:3000/api/test/auto-sync

# –¢–µ—Å—Ç cron endpoint (—Ç—Ä–µ–±—É–µ—Ç CRON_SECRET)
curl -X POST http://localhost:3000/api/cron/gmail-sync \
  -H "Authorization: Bearer your-cron-secret"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

–õ–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤:
- Vercel Dashboard ‚Üí Functions ‚Üí Logs
- `console.log` –≤—ã–≤–æ–¥—ã –≤ runtime

## –§—É–Ω–∫—Ü–∏–∏ –ò–ò –∞–Ω–∞–ª–∏–∑–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:
- **–¢–∏–ø —Ñ–∏–¥–±–µ–∫–∞**: bug, feature, improvement, complaint, praise, question, suggestion
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: low, medium, high, urgent
- **–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ**: positive, negative, neutral
- **–ë–∏–∑–Ω–µ—Å-–≤–ª–∏—è–Ω–∏–µ**: low, medium, high
- **–°—Ä–æ—á–Ω–æ—Å—Ç—å**: low, medium, high
- **–ù–∞–º–µ—Ä–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è**

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è

–°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–∏—Å—å–º–∞ –∫–æ—Ç–æ—Ä—ã–µ:
1. –ò–ò –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–∫ —Ñ–∏–¥–±–µ–∫ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ "general" –∏–ª–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å > 70%)
2. –ï—â–µ –Ω–µ –±—ã–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã —Ä–∞–Ω–µ–µ

**–í–∞–∂–Ω–æ**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –æ—Ç–∫–ª—é—á–µ–Ω–∞ - AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ –ø–∏—Å—å–º–∞ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –¢–æ–∫–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã
- CRON_SECRET –∑–∞—â–∏—â–∞–µ—Ç endpoint –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–°–∏—Å—Ç–µ–º–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ metadata –∫–∞–∂–¥–æ–≥–æ –ø–∏—Å—å–º–∞:
- `auto_processed: true` - –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- `processed_at` - –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
- `ai_analyzed` - –ø–∏—Å—å–º–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ AI


## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–æ 50 –ø–∏—Å–µ–º –∑–∞ –∑–∞–ø—É—Å–∫ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø–∏—Å—å–º–∞ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
- –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –ø–∏—Å—å–º–∞
- –¢–∞–π–º–∞—É—Ç –Ω–∞ –∞–Ω–∞–ª–∏–∑ –ò–ò: 30 —Å–µ–∫—É–Ω–¥

## Troubleshooting

### –ü–∏—Å—å–º–∞ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Gmail –≤ UI
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ OPENAI_API_KEY
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ Vercel Dashboard
4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–∏—Å—å–º–∞ –Ω–µ –±—ã–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã —Ä–∞–Ω–µ–µ

### –¢–æ–∫–µ–Ω—ã –∏—Å—Ç–µ–∫–ª–∏
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–º–µ—á–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –∫–∞–∫ –æ—Ç–∫–ª—é—á–µ–Ω–Ω—É—é.
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å Gmail.

### Cron –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `vercel.json` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ Vercel
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Vercel Dashboard

## API Endpoints

- `POST /api/cron/gmail-sync` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–∑–∞—â–∏—â–µ–Ω CRON_SECRET)
- `POST /api/test/auto-sync` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/sync/gmail` - –†—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π endpoint)